<!DOCTYPE html>
<html>
<head>
    {% include 'includes/head.html' %}
	<title>MeetUp</title>
	<meta name='description' content='TODO: write descriptions'>
</head>
<body>
    {% include 'includes/header.html' %}
    <main class='body' data-currentPage='{{ startPage }}'>
        <div id='bodyFlash' class='bodyFlash'>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages%}
                        {% if message|first == '|' %}
                            <div>{{ message|replace('|', '') }}</div>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        <div id='bodyError' class='bodyFlash'>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages%}
                        {% if message|first == '-' %}
                            <div>{{ message|replace('-', '') }}</div>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        <div id='createEventPage' class='page hidden'>
            <form class='eventUI' name='event' method='POST' action='{{ url_for("createEvent") }}'>
                {{ eform.hidden_tag() }}
                <div class='line'>
                    {{ eform.eventName(placeholder=eventPlaceholder) }}
                </div>
                <div class='line'>
                    {{ eform.dates() }}
                    <div class='mdp' id='mdp'></div>
                </div>
                <div class='line border'>
                    {{ eform.startTime() }}—{{ eform.endTime(minTime='') }}
                </div>
                <button type='submit' class='button'>Create Event</button>
            </form>
        </div>
        <div id='viewEventPage' class='page hidden'>
                <div class='col'>
                    <form class='eventUI'>
                        <div class='line nb'>
                           Event name:{{ event.name }}
                        </div>
                        <div class='line nb'>
                             Dates:{{ event.dates }}
                        </div>
                        <div class='line nb'>
                           </div>
                        <div class='mdp inactive'></div>
                        <div class='line border nb'>
                            {{ event.start }}—{{ event.end }}
                        </div>
                    {% if event %}
                      <a class='button' href="{{ url_for('invite',eventId=event.event_id) }}">Invite To Event</a>
                      <a class='button' href="{{ url_for('scheduler',eventId=event.event_id) }}">Edit possible times</a>
                     {% endif %}
                        
                    </form>
                </div>
                <div class='col'>

                </div>
        </div>
        <div id='psPage' class='page hidden'>
            <table id="select-times">
                <tr class="days">
                    <td class="day"></td>
                    <td class="day">Sunday</td>
                    <td class="day">Monday</td>
                    <td class="day">Tuesday</td>
                    <td class="day">Wednesday</td>
                    <td class="day">Thursday</td>
                    <td class="day">Friday</td>
                    <td class="day">Saturday</td>
                <tr>
                    <td class="time">09:00am</td>
                    <td id="0-0" class="selected"></td>
                    <td id="1-0" class="selected"></td>
                    <td id="2-0" class="selected"></td>
                    <td id="3-0" class="selected"></td>
                    <td id="4-0" class="selected"></td>
                    <td id="5-0" class="selected"></td>
                    <td id="6-0" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">09:30am</td>
                    <td id="0-1" class="selected"></td>
                    <td id="1-1" class="selected"></td>
                    <td id="2-1" class="selected"></td>
                    <td id="3-1" class="selected"></td>
                    <td id="4-1" class="selected"></td>
                    <td id="5-1" class="selected"></td>
                    <td id="6-1" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">10:00am</td>
                    <td id="0-2" class="selected"></td>
                    <td id="1-2" class="selected"></td>
                    <td id="2-2" class="selected"></td>
                    <td id="3-2" class="selected"></td>
                    <td id="4-2" class="selected"></td>
                    <td id="5-2" class="selected"></td>
                    <td id="6-2" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">10:30am</td>
                    <td id="0-3" class="selected"></td>
                    <td id="1-3" class="selected"></td>
                    <td id="2-3" class="selected"></td>
                    <td id="3-3" class="selected"></td>
                    <td id="4-3" class="selected"></td>
                    <td id="5-3" class="selected"></td>
                    <td id="6-3" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">11:00am</td>
                    <td id="0-4" class="selected"></td>
                    <td id="1-4" class="selected"></td>
                    <td id="2-4" class="selected"></td>
                    <td id="3-4" class="selected"></td>
                    <td id="4-4" class="selected"></td>
                    <td id="5-4" class="selected"></td>
                    <td id="6-4" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">11:30am</td>
                    <td id="0-5" class="selected"></td>
                    <td id="1-5" class="selected"></td>
                    <td id="2-5" class="selected"></td>
                    <td id="3-5" class="selected"></td>
                    <td id="4-5" class="selected"></td>
                    <td id="5-5" class="selected"></td>
                    <td id="6-5" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">12:00pm</td>
                    <td id="0-6" class="selected"></td>
                    <td id="1-6" class="selected"></td>
                    <td id="2-6" class="selected"></td>
                    <td id="3-6" class="selected"></td>
                    <td id="4-6" class="selected"></td>
                    <td id="5-6" class="selected"></td>
                    <td id="6-6" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">12:30pm</td>
                    <td id="0-7" class="selected"></td>
                    <td id="1-7" class="selected"></td>
                    <td id="2-7" class="selected"></td>
                    <td id="3-7" class="selected"></td>
                    <td id="4-7" class="selected"></td>
                    <td id="5-7" class="selected"></td>
                    <td id="6-7" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">01:00pm</td>
                    <td id="0-8" class="selected"></td>
                    <td id="1-8" class="selected"></td>
                    <td id="2-8" class="selected"></td>
                    <td id="3-8" class="selected"></td>
                    <td id="4-8" class="selected"></td>
                    <td id="5-8" class="selected"></td>
                    <td id="6-8" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">01:30pm</td>
                    <td id="0-9" class="selected"></td>
                    <td id="1-9" class="selected"></td>
                    <td id="2-9" class="selected"></td>
                    <td id="3-9" class="selected"></td>
                    <td id="4-9" class="selected"></td>
                    <td id="5-9" class="selected"></td>
                    <td id="6-9" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">02:00pm</td>
                    <td id="0-10" class="selected"></td>
                    <td id="1-10" class="selected"></td>
                    <td id="2-10" class="selected"></td>
                    <td id="3-10" class="selected"></td>
                    <td id="4-10" class="selected"></td>
                    <td id="5-10" class="selected"></td>
                    <td id="6-10" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">02:30pm</td>
                    <td id="0-11" class="selected"></td>
                    <td id="1-11" class="selected"></td>
                    <td id="2-11" class="selected"></td>
                    <td id="3-11" class="selected"></td>
                    <td id="4-11" class="selected"></td>
                    <td id="5-11" class="selected"></td>
                    <td id="6-11" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">03:00pm</td>
                    <td id="0-12" class="selected"></td>
                    <td id="1-12" class="selected"></td>
                    <td id="2-12" class="selected"></td>
                    <td id="3-12" class="selected"></td>
                    <td id="4-12" class="selected"></td>
                    <td id="5-12" class="selected"></td>
                    <td id="6-12" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">03:30pm</td>
                    <td id="0-13" class="selected"></td>
                    <td id="1-13" class="selected"></td>
                    <td id="2-13" class="selected"></td>
                    <td id="3-13" class="selected"></td>
                    <td id="4-13" class="selected"></td>
                    <td id="5-13" class="selected"></td>
                    <td id="6-13" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">04:00pm</td>
                    <td id="0-14" class="selected"></td>
                    <td id="1-14" class="selected"></td>
                    <td id="2-14" class="selected"></td>
                    <td id="3-14" class="selected"></td>
                    <td id="4-14" class="selected"></td>
                    <td id="5-14" class="selected"></td>
                    <td id="6-14" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">04:30pm</td>
                    <td id="0-15" class="selected"></td>
                    <td id="1-15" class="selected"></td>
                    <td id="2-15" class="selected"></td>
                    <td id="3-15" class="selected"></td>
                    <td id="4-15" class="selected"></td>
                    <td id="5-15" class="selected"></td>
                    <td id="6-15" class="selected"></td>
                </tr>
                <tr>
                    <td class="time">05:00pm</td>
                    <td id="0-16" class="selected"></td>
                    <td id="1-16" class="selected"></td>
                    <td id="2-16" class="selected"></td>
                    <td id="3-16" class="selected"></td>
                    <td id="4-16" class="selected"></td>
                    <td id="5-16" class="selected"></td>
                    <td id="6-16" class="selected"></td>
                </tr>
            </table>
        </div>
        <div class='sidebar'>
            <div class='sidebarContent'>
                <div class='account'>
                    <i class='faButton fas fa-user-circle'></i>
                    <div class='uname'>{% if user.is_authenticated %}{{ user.username }}{% endif %}</div>
                    <div class='close faButton'><i class="fas fa-times"></i></div>
                </div>
                {% if user.is_authenticated %}
                    <a class='pageTurn button' data-target='createEventPage'>Create a New Event</a>
                    <a class='pageTurn button' data-target='psPage'>My Schedule</a>
                    <h4>My Events</h4>
                    
                    <a href='/?exampleEventCode'>Example Event</a>
                    <a class='button' href="{{ url_for('logout') }}">Log Out</a>
                {% else %}
                    <h2>Your Account</h2>
                    <form name='loginForm' method='POST' action='{{ url_for("login") }}'>
                        {{ lform.hidden_tag() }}
                        <div class='line'>{{ lform.username.label }}{{ lform.username() }}</div><br>
                        <div class='line'>{{ lform.password.label }}{{ lform.password() }}</div><br>
                        <div class='line'>{{ lform.remember.label }}<label class='check'>{{ lform.remember() }}<span class='checkmark'></span></label></div><br>
                        <button class='button fSubmit'>Login</button>
                    </form>
                    <a id='pwReset'>Forgot Password</a>
                    <div id='pwrDiv' style='display:none'>
                        <form method='POST' action='{{ url_for("reset_request") }}'>
                            {{ pform.hidden_tag() }}
                            <div class='line'>{{ pform.email.label }}{{ pform.email() }}</div><br>
                            <button class='button fSubmit'>Request Reset</button>
                        </form>
                    </div>
                    <h4>OR</h4>
                    <form name='signupForm' method='POST' action='{{ url_for("signup") }}'>
                        {{ sform.hidden_tag() }}
                        <div class='line'>{{ sform.email.label }}{{ sform.email() }}</div><br>
                        <div class='line'>{{ sform.username.label }}{{ sform.username() }}</div><br>
                        <div class='line'>{{ sform.password.label }}{{ sform.password() }}</div><br>
                        <div class='line'>{{ sform.password2.label }}{{ sform.password2() }}</div><br>
                        {{ sform.recaptcha }}
                        <button class='button fSubmit'>Sign Up</button>
                    </form>
                {% endif %}
            </div>
            <div class='sidebarFlash'>
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        {% for message in messages%}
                            {% if message|first == '~' %}
                                <div>{{ message|replace('~', '') }}</div>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
            <div class='sidebarError'>
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        {% for message in messages%}
                            {% if message|first == '`' %}
                                <div>{{ message|replace('`', '') }}</div>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
        </div>
    </main>
    {% include 'includes/footer.html' %}
</body>
</html>
